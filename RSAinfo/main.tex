\documentclass{article}
\usepackage{hyperref}
\input{preamble.tex}


\begin{document}
    \huge The Procedure
    \normalsize
    \bigskip
%TO DO: CHANGE THE ID'S OF EACH TEXTBOX
    \begin{enumerate}
\item Bob chooses prime numbers $p,q$ so that $pq=n>c$, where $c$ is the size of the largest message they expect to encrypt. The $n$ is called the key length.

\item Bob also chooses $e,d$ by first computing $\varphi(n)=(p-1)(q-1)$, then choosing $e$ so that $\gcd(e,\varphi(n))=1$. Bob can then release the keypair $(e,n)$, and now Alice, Bob, and Eve respectively have their own step to perform.
    
    \paragraph{Bob:} Will compute the multiplicative inverse of $e\pmod{\varphi(n)}$, using Wolfram-Alpha, in order to find his private key $d$.

    \paragraph{Alice:} Will choose a message which is converted to a large natural number $M$. We have many ways of doing this, however for the purpose of this exercise we will use $a=1, b=2,\dots, z=26$, and a space is $00$. For messages longer than a single character, simply combine the letters. For example, a message "abc" will be encoded with $M=010203$. Alice encrypts her message text with Wolfram-Alpha using $M^e\pmod{n}$, and reveals it to both Bob and Eve.

    \paragraph{Eve:} Will use Wolfram-Alpha to attempt to factor $n$, and if successful, uses the $p,q$ she finds in order to find $d$ (see Bob's instructions above).

\item Now Bob and Eve (if successful) should reveal the decrypted messages; and confirm whether they recieved it.
\end{enumerate}

\newpage

    \huge Exercise 1
    \normalsize

    For the first exercise, delegate who will be Bob, Alice, and Eve, and perform the procedure with $p=2$ and $q=13$. This first exercise is exactly enough to encrypt a message of one character. As a group, fill out the following:
    \begin{enumerate}
        \item What was the message sent by Alice? 

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p1q1, multiline=true]{}

        \item What was Bob able to decrypt?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p1q2, multiline=true]{}

        \item What was Eve able to encrypt?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p1q3, multiline=true]{}

        \item How private was the message?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p1q4, multiline=true]{}

        \item For what purposes would you use this level of encryption?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p1q5, multiline=true]{}

    \end{enumerate}

\newpage

    \huge Exercise 2
    \normalsize

    For the second exercise, use \verb|bigprimes.org| or some other random number generating site to choose some primes $p,q$ with more digits. Try to ensure that the primes are small enough that Eve has a chance at breaking the message. All participants will need Wolfram-Alpha.

    \begin{enumerate}
        \item What was the message sent by Alice? 

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p2q1, multiline=true]{}

        \item What was Bob able to decrypt?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p2q2, multiline=true]{}

        \item What was Eve able to encrypt?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p2q3, multiline=true]{}

        \item How private was the message?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p2q4, multiline=true]{}

        \item For what purposes would you use this level of encryption?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p2q5, multiline=true]{}

    \end{enumerate}


    \newpage
    \huge Exercise 3
    \normalsize

    For the third and final exercise, use \verb|bigprimes.org| or some other random number generating site to choose some primes $p,q$ with enough digits that Bob and Alice can agree that Eve will not be able to factor $n$ using Wolfram-Alpha (How can they check this!). 

    \begin{enumerate}
        \item What was the message sent by Alice? 

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p3q1, multiline=true]{}

        \item What was Bob able to decrypt?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p3q2, multiline=true]{}

        \item What was Eve able to encrypt?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p3q3, multiline=true]{}

        \item How private was the message?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p3q4, multiline=true]{}

        \item For what purposes would you use this level of encryption?

            \TextField[width=6in,height=1in, bordercolor=0 0 0, name=p3q5, multiline=true]{}

    \end{enumerate}

    \newpage
    \huge Bonus Exercise
    \normalsize

    As an addition to the manual exercise above, your group will now be guided through how the above steps can be easily automated through a simple python script.
    The general generation of keys, encoding and decoding of messages, and encrypting and decrypting of messages is provided through an rsa.py file. It is your task to create character files for Bob, Alice, and Eve that will perform the steps you and your group members had to do manually.

    \paragraph{alice.py:} Alice is the simplest of our three characters as all that is required for this portion is to encode, encrypt, and return a message.

    \begin{enumerate}
        \item Import the rsa.py file.

            \TextField[width=6in,height=1in]{}

        \item Gather the inputs from Bob, aka the public key and the key length.
            
            \TextField[width=6in,height=1in]{}

        \item Use the functions from the rsa.py file to encode a message.

        \TextField[width=6in,height=1in]{}

        \item Once you have your encoded message, encrypt the message.

        \TextField[width=6in,height=1in]{}

        \item Print the encrypted message as a string.

        \TextField[width=6in,height=1in]{}

    \end{enumerate}

\end{document}
